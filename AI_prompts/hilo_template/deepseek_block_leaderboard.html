<section class="leaderboards-section">
    <!-- Блок "Список лидербордов" -->
    <div class="leaderboards-list">
        <h2 class="leaderboards-list__title">Список лидербордов</h2>
        
        <div class="leaderboards-grid">
            <!-- Шапка таблицы -->
            <div class="leaderboards-grid__header leaderboards-grid__row">
                <div class="leaderboards-grid__cell leaderboards-grid__cell--number">№</div>
                <div class="leaderboards-grid__cell leaderboards-grid__cell--name">Название</div>
                <div class="leaderboards-grid__cell leaderboards-grid__cell--period">Срок проведения</div>
                <div class="leaderboards-grid__cell leaderboards-grid__cell--details"></div>
            </div>
            
            <!-- Строки с лидербордами -->
            <div class="leaderboards-grid__row">
                <div class="leaderboards-grid__cell leaderboards-grid__cell--number">1</div>
                <div class="leaderboards-grid__cell leaderboards-grid__cell--name">Ежедневный</div>
                <div class="leaderboards-grid__cell leaderboards-grid__cell--period">15/мая/2024 - 16/мая/2024</div>
                <div class="leaderboards-grid__cell leaderboards-grid__cell--details">
                    <a href="#leaderboard-daily" class="leaderboards-grid__details-link">Подробнее</a>
                </div>
            </div>
            
            <div class="leaderboards-grid__row">
                <div class="leaderboards-grid__cell leaderboards-grid__cell--number">2</div>
                <div class="leaderboards-grid__cell leaderboards-grid__cell--name">Недельный</div>
                <div class="leaderboards-grid__cell leaderboards-grid__cell--period">12/мая/2024 - 19/мая/2024</div>
                <div class="leaderboards-grid__cell leaderboards-grid__cell--details">
                    <a href="#leaderboard-weekly" class="leaderboards-grid__details-link">Подробнее</a>
                </div>
            </div>
            
            <div class="leaderboards-grid__row">
                <div class="leaderboards-grid__cell leaderboards-grid__cell--number">3</div>
                <div class="leaderboards-grid__cell leaderboards-grid__cell--name">Именной "Shark Party"</div>
                <div class="leaderboards-grid__cell leaderboards-grid__cell--period">01/мая/2024 - 31/мая/2024</div>
                <div class="leaderboards-grid__cell leaderboards-grid__cell--details">
                    <a href="#leaderboard-shark" class="leaderboards-grid__details-link">Подробнее</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Блок "Таблица лидерборда" -->
    <div class="leaderboard-details" id="leaderboard-daily">
        <div class="leaderboard-header">
            <h2 class="leaderboard-header__title">Лидерборд "Ежедневный"</h2>
            <div class="leaderboard-header__period">15/мая/2024 - 16/мая/2024</div>
        </div>
        
        <div class="leaderboard-conditions">
            <h3 class="leaderboard-conditions__title">Условия проведения:</h3>
            <p class="leaderboard-conditions__text">В лидерборд учитываются все турниры, прошедшие в указанный период с бай-ином от $1. Очки начисляются по формуле: (призовые / бай-ин) × коэффициент места.</p>
            <div class="leaderboard-conditions__tournaments">
                <h4 class="leaderboard-conditions__subtitle">Турниры лидерборда:</h4>
                <ul class="leaderboard-conditions__list">
                    <li class="leaderboard-conditions__item"><a href="#" class="leaderboard-conditions__link">Турнир Shark Party 10000</a></li>
                    <li class="leaderboard-conditions__item"><a href="#" class="leaderboard-conditions__link">Турнир Shark Party 2000</a></li>
                    <li class="leaderboard-conditions__item"><a href="#" class="leaderboard-conditions__link">Турнир Shark Party 5000</a></li>
                </ul>
            </div>
        </div>
        
        <div class="leaderboard-table">
            <div class="leaderboard-grid">
                <!-- Шапка таблицы -->
                <div class="leaderboard-grid__header leaderboard-grid__row">
                    <div class="leaderboard-grid__cell leaderboard-grid__cell--number">№</div>
                    <div class="leaderboard-grid__cell leaderboard-grid__cell--player">Игрок</div>
                    <div class="leaderboard-grid__cell leaderboard-grid__cell--points">Очки</div>
                    <div class="leaderboard-grid__cell leaderboard-grid__cell--details"></div>
                </div>
                
                <!-- Строки с игроками -->
                <div class="leaderboard-grid__row leaderboard-grid__row--player" data-player-id="1">
                    <div class="leaderboard-grid__cell leaderboard-grid__cell--number">1</div>
                    <div class="leaderboard-grid__cell leaderboard-grid__cell--player">Kentavr</div>
                    <div class="leaderboard-grid__cell leaderboard-grid__cell--points">125.75</div>
                    <div class="leaderboard-grid__cell leaderboard-grid__cell--details">
                        <button class="leaderboard-grid__details-btn" aria-expanded="false" aria-controls="player-1-tournaments">Подробнее</button>
                    </div>
                </div>
                
                <!-- Детализация по турнирам игрока (скрыта по умолчанию) -->
                <div class="leaderboard-grid__row leaderboard-grid__row--tournaments" id="player-1-tournaments" hidden>
                    <div class="leaderboard-grid__cell leaderboard-grid__cell--full" colspan="4">
                        <div class="player-tournaments">
                            <div class="player-tournaments__header player-tournaments__row">
                                <div class="player-tournaments__cell player-tournaments__cell--number">№</div>
                                <div class="player-tournaments__cell player-tournaments__cell--name">Турнир</div>
                                <div class="player-tournaments__cell player-tournaments__cell--place">Место</div>
                                <div class="player-tournaments__cell player-tournaments__cell--prize">Призовые</div>
                                <div class="player-tournaments__cell player-tournaments__cell--points">Очки</div>
                            </div>
                            
                            <div class="player-tournaments__row">
                                <div class="player-tournaments__cell player-tournaments__cell--number">1</div>
                                <div class="player-tournaments__cell player-tournaments__cell--name">
                                    <a href="#" class="player-tournaments__link">Shark Party 10000</a>
                                </div>
                                <div class="player-tournaments__cell player-tournaments__cell--place">3</div>
                                <div class="player-tournaments__cell player-tournaments__cell--prize">1500.00</div>
                                <div class="player-tournaments__cell player-tournaments__cell--points">45.25</div>
                            </div>
                            
                            <div class="player-tournaments__row">
                                <div class="player-tournaments__cell player-tournaments__cell--number">2</div>
                                <div class="player-tournaments__cell player-tournaments__cell--name">
                                    <a href="#" class="player-tournaments__link">Shark Party 2000</a>
                                </div>
                                <div class="player-tournaments__cell player-tournaments__cell--place">1</div>
                                <div class="player-tournaments__cell player-tournaments__cell--prize">800.00</div>
                                <div class="player-tournaments__cell player-tournaments__cell--points">80.50</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Еще один игрок -->
                <div class="leaderboard-grid__row leaderboard-grid__row--player" data-player-id="2">
                    <div class="leaderboard-grid__cell leaderboard-grid__cell--number">2</div>
                    <div class="leaderboard-grid__cell leaderboard-grid__cell--player">BigBaby</div>
                    <div class="leaderboard-grid__cell leaderboard-grid__cell--points">112.30</div>
                    <div class="leaderboard-grid__cell leaderboard-grid__cell--details">
                        <button class="leaderboard-grid__details-btn" aria-expanded="false" aria-controls="player-2-tournaments">Подробнее</button>
                    </div>
                </div>
                
                <div class="leaderboard-grid__row leaderboard-grid__row--tournaments" id="player-2-tournaments" hidden>
                    <div class="leaderboard-grid__cell leaderboard-grid__cell--full" colspan="4">
                        <div class="player-tournaments">
                            <div class="player-tournaments__header player-tournaments__row">
                                <div class="player-tournaments__cell player-tournaments__cell--number">№</div>
                                <div class="player-tournaments__cell player-tournaments__cell--name">Турнир</div>
                                <div class="player-tournaments__cell player-tournaments__cell--place">Место</div>
                                <div class="player-tournaments__cell player-tournaments__cell--prize">Призовые</div>
                                <div class="player-tournaments__cell player-tournaments__cell--points">Очки</div>
                            </div>
                            
                            <div class="player-tournaments__row">
                                <div class="player-tournaments__cell player-tournaments__cell--number">1</div>
                                <div class="player-tournaments__cell player-tournaments__cell--name">
                                    <a href="#" class="player-tournaments__link">Shark Party 5000</a>
                                </div>
                                <div class="player-tournaments__cell player-tournaments__cell--place">2</div>
                                <div class="player-tournaments__cell player-tournaments__cell--prize">1200.00</div>
                                <div class="player-tournaments__cell player-tournaments__cell--points">72.30</div>
                            </div>
                            
                            <div class="player-tournaments__row">
                                <div class="player-tournaments__cell player-tournaments__cell--number">2</div>
                                <div class="player-tournaments__cell player-tournaments__cell--name">
                                    <a href="#" class="player-tournaments__link">Shark Party 10000</a>
                                </div>
                                <div class="player-tournaments__cell player-tournaments__cell--place">5</div>
                                <div class="player-tournaments__cell player-tournaments__cell--prize">800.00</div>
                                <div class="player-tournaments__cell player-tournaments__cell--points">40.00</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
/* Общие стили для обоих блоков */
.leaderboards-section {
    margin-bottom: 40px;
}

/* Стили для списка лидербордов */
.leaderboards-list {
    margin-bottom: 40px;
}

.leaderboards-list__title {
    font-size: 1.8rem;
    margin-bottom: 20px;
    color: var(--text-color);
}

.leaderboards-grid {
    display: grid;
    grid-template-columns: 50px 2fr 1fr 120px;
    gap: 1px;
    margin-bottom: 30px;
    background-color: var(--border-color);
    border-radius: 8px;
    overflow: hidden;
}

.leaderboards-grid__header {
    font-weight: 500;
    background-color: var(--header-bg);
    color: var(--text-color);
}

.leaderboards-grid__row {
    display: contents;
}

.leaderboards-grid__row:hover .leaderboards-grid__cell {
    background-color: var(--hover-bg);
}

.leaderboards-grid__cell {
    padding: 12px 15px;
    background-color: var(--content-bg);
    display: flex;
    align-items: center;
}

.leaderboards-grid__details-link {
    display: inline-block;
    padding: 6px 12px;
    background-color: var(--accent-color);
    color: var(--header-bg);
    border-radius: 4px;
    font-weight: 500;
    font-size: 0.9rem;
    transition: background-color 0.2s ease;
    text-decoration: none;
}

.leaderboards-grid__details-link:hover {
    background-color: var(--hover-color);
    text-decoration: none;
}

/* Стили для таблицы лидерборда */
.leaderboard-header {
    margin-bottom: 20px;
}

.leaderboard-header__title {
    font-size: 1.8rem;
    margin-bottom: 5px;
    color: var(--text-color);
}

.leaderboard-header__period {
    color: var(--text-muted);
    font-size: 1rem;
}

.leaderboard-conditions {
    background-color: var(--widget-bg);
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 25px;
    box-shadow: 0 1px 3px var(--shadow-color);
}

.leaderboard-conditions__title {
    font-size: 1.3rem;
    margin-bottom: 10px;
    color: var(--text-color);
}

.leaderboard-conditions__text {
    margin-bottom: 15px;
}

.leaderboard-conditions__subtitle {
    font-size: 1.1rem;
    margin-bottom: 10px;
    color: var(--text-color);
}

.leaderboard-conditions__list {
    margin-left: 20px;
}

.leaderboard-conditions__item {
    margin-bottom: 5px;
}

.leaderboard-conditions__link {
    color: var(--accent-color);
    text-decoration: none;
    transition: color 0.2s ease;
}

.leaderboard-conditions__link:hover {
    color: var(--hover-color);
    text-decoration: underline;
}

.leaderboard-table {
    margin-top: 30px;
}

.leaderboard-grid {
    display: grid;
    grid-template-columns: 50px 2fr 1fr 120px;
    gap: 1px;
    margin-bottom: 30px;
    background-color: var(--border-color);
    border-radius: 8px;
    overflow: hidden;
}

.leaderboard-grid__header {
    font-weight: 500;
    background-color: var(--header-bg);
    color: var(--text-color);
}

.leaderboard-grid__row {
    display: contents;
}

.leaderboard-grid__row--player:hover .leaderboard-grid__cell {
    background-color: var(--hover-bg);
}

.leaderboard-grid__cell {
    padding: 12px 15px;
    background-color: var(--content-bg);
    display: flex;
    align-items: center;
}

.leaderboard-grid__cell--full {
    grid-column: 1 / -1;
    padding: 0;
}

.leaderboard-grid__details-btn {
    display: inline-block;
    padding: 6px 12px;
    background-color: var(--accent-color);
    color: var(--header-bg);
    border-radius: 4px;
    font-weight: 500;
    font-size: 0.9rem;
    transition: background-color 0.2s ease;
    text-decoration: none;
    border: none;
    cursor: pointer;
}

.leaderboard-grid__details-btn:hover {
    background-color: var(--hover-color);
    text-decoration: none;
}

.leaderboard-grid__details-btn[aria-expanded="true"] {
    background-color: var(--hover-color);
}

.player-tournaments {
    width: 100%;
    padding: 15px;
    background-color: var(--widget-bg);
}

.player-tournaments__header {
    font-weight: 500;
    margin-bottom: 10px;
}

.player-tournaments__row {
    display: grid;
    grid-template-columns: 50px 2fr 1fr 1fr 1fr;
    gap: 1px;
    margin-bottom: 1px;
}

.player-tournaments__cell {
    padding: 8px 10px;
    background-color: var(--content-bg);
}

.player-tournaments__link {
    color: var(--accent-color);
    text-decoration: none;
    transition: color 0.2s ease;
}

.player-tournaments__link:hover {
    color: var(--hover-color);
    text-decoration: underline;
}

/* Адаптивные стили */
@media (max-width: 800px) {
    .leaderboards-grid,
    .leaderboard-grid {
        grid-template-columns: 1fr;
        background-color: transparent;
        gap: 15px;
    }
    
    .leaderboards-grid__header,
    .leaderboard-grid__header {
        display: none;
    }
    
    .leaderboards-grid__row,
    .leaderboard-grid__row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1px;
        background-color: var(--border-color);
        border-radius: 8px;
        overflow: hidden;
        margin-bottom: 15px;
    }
    
    .leaderboards-grid__cell,
    .leaderboard-grid__cell {
        grid-column: span 1;
    }
    
    .leaderboards-grid__cell--number,
    .leaderboard-grid__cell--number {
        grid-column: 1;
    }
    
    .leaderboards-grid__cell--name,
    .leaderboard-grid__cell--player {
        grid-column: 2;
    }
    
    .leaderboards-grid__cell--period,
    .leaderboard-grid__cell--points {
        grid-column: 1;
    }
    
    .leaderboards-grid__cell--details,
    .leaderboard-grid__cell--details {
        grid-column: 2;
    }
    
    .leaderboard-grid__cell--full {
        grid-column: 1 / -1;
    }
    
    .leaderboards-grid__cell::before,
    .leaderboard-grid__cell::before {
        content: attr(data-label);
        font-weight: 500;
        margin-right: 8px;
        color: var(--text-muted);
    }
    
    .leaderboards-grid__cell[class*="--number"]::before,
    .leaderboard-grid__cell[class*="--number"]::before {
        content: "№:";
    }
    
    .leaderboards-grid__cell[class*="--name"]::before,
    .leaderboard-grid__cell[class*="--player"]::before {
        content: "Название:";
    }
    
    .leaderboards-grid__cell[class*="--period"]::before,
    .leaderboard-grid__cell[class*="--points"]::before {
        content: "Срок:";
    }
    
    .leaderboards-grid__cell[class*="--details"]::before,
    .leaderboard-grid__cell[class*="--details"]::before {
        content: "";
    }
    
    .player-tournaments__row {
        grid-template-columns: 1fr;
        margin-bottom: 10px;
    }
    
    .player-tournaments__cell::before {
        content: attr(data-label);
        font-weight: 500;
        margin-right: 8px;
        color: var(--text-muted);
    }
    
    .player-tournaments__cell[class*="--number"]::before {
        content: "№:";
    }
    
    .player-tournaments__cell[class*="--name"]::before {
        content: "Турнир:";
    }
    
    .player-tournaments__cell[class*="--place"]::before {
        content: "Место:";
    }
    
    .player-tournaments__cell[class*="--prize"]::before {
        content: "Призовые:";
    }
    
    .player-tournaments__cell[class*="--points"]::before {
        content: "Очки:";
    }
}

@media (max-width: 480px) {
    .leaderboards-grid__row,
    .leaderboard-grid__row {
        grid-template-columns: 1fr;
    }
    
    .leaderboards-grid__cell,
    .leaderboard-grid__cell {
        grid-column: 1 !important;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Добавляем data-label для мобильных устройств
    if (window.matchMedia('(max-width: 800px)').matches) {
        const addLabels = (cells, prefix) => {
            cells.forEach(cell => {
                const label = cell.className.match(/--([a-z]+)/);
                if (label) {
                    cell.setAttribute('data-label', prefix + label[1]);
                }
            });
        };
        
        // Для списка лидербордов
        const leaderboardCells = document.querySelectorAll('.leaderboards-grid__cell');
        addLabels(leaderboardCells, 'leaderboard-');
        
        // Для таблицы лидерборда
        const leaderCells = document.querySelectorAll('.leaderboard-grid__cell');
        addLabels(leaderCells, 'leader-');
        
        // Для таблицы турниров игрока
        const tournamentCells = document.querySelectorAll('.player-tournaments__cell');
        addLabels(tournamentCells, 'tournament-');
    }
    
    // Обработка кнопок "Подробнее" в таблице лидерборда
    const detailButtons = document.querySelectorAll('.leaderboard-grid__details-btn');
    detailButtons.forEach(button => {
        button.addEventListener('click', function() {
            const isExpanded = this.getAttribute('aria-expanded') === 'true';
            const playerId = this.closest('.leaderboard-grid__row--player').getAttribute('data-player-id');
            const tournamentsRow = document.getElementById(`player-${playerId}-tournaments`);
            
            this.setAttribute('aria-expanded', !isExpanded);
            tournamentsRow.hidden = isExpanded;
            
            // Анимация появления/скрытия
            if (!isExpanded) {
                tournamentsRow.style.display = 'contents';
                tournamentsRow.hidden = false;
            } else {
                setTimeout(() => {
                    tournamentsRow.style.display = 'none';
                }, 200);
            }
        });
    });
});
</script>